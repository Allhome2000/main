<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="Content-Security-Policy" content="default-src file: 'unsafe-inline'; img-src file: data:; media-src file:; connect-src ws: file:">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>eDEX-UI</title>

        <!-- Load dependency css -->
        <link rel="stylesheet" href="node_modules/augmented-ui/augmented.css" />
        <!-- Load main css -->
        <link rel="stylesheet" href="assets/css/main.css" />
        <link rel="stylesheet" href="assets/css/modal.css" />
        <link rel="stylesheet" href="assets/css/boot_screen.css" />
        <link rel="stylesheet" href="assets/css/media_player.css" />
        <!-- Load main modules css -->
        <link rel="stylesheet" href="assets/css/main_shell.css" />
        <link rel="stylesheet" href="assets/css/filesystem.css" />
        <link rel="stylesheet" href="assets/css/keyboard.css" />
        <!-- Load secondary modules css -->
        <link rel="stylesheet" href="assets/css/mod_column.css" />
        <link rel="stylesheet" href="assets/css/mod_clock.css" />
        <link rel="stylesheet" href="assets/css/mod_sysinfo.css" />
        <link rel="stylesheet" href="assets/css/mod_hardwareInspector.css" />
        <link rel="stylesheet" href="assets/css/mod_cpuinfo.css" />
        <link rel="stylesheet" href="assets/css/mod_netstat.css" />
        <link rel="stylesheet" href="assets/css/mod_conninfo.css" />
        <link rel="stylesheet" href="assets/css/mod_globe.css" />
        <link rel="stylesheet" href="assets/css/mod_ramwatcher.css" />
        <link rel="stylesheet" href="assets/css/mod_toplist.css" />
        <link rel="stylesheet" href="assets/css/mod_fuzzyFinder.css" />
        <link rel="stylesheet" href="assets/css/mod_processlist.css" />
        <!-- Load extra CSS -->
        <link rel="stylesheet" href="assets/css/extra_ratios.css" />

        <!-- Load dependency js -->
        <script src="node_modules/pdfjs-dist/build/pdf.js"></script>
        <!-- Load main modules classes -->
        <script src="classes/modal.class.js"></script>
        <script src="classes/terminal.class.js"></script>
        <script src="classes/docReader.class.js"></script>
        <script src="classes/mediaPlayer.class.js"></script>
        <script src="classes/filesystem.class.js"></script>
        <script src="classes/keyboard.class.js"></script>
        <script src="classes/updateChecker.class.js"></script>
        <!-- Load secondary modules classes -->
        <script src="classes/clock.class.js"></script>
        <script src="classes/sysinfo.class.js"></script>
        <script src="classes/hardwareInspector.class.js"></script>
        <script src="classes/cpuinfo.class.js"></script>
        <script src="classes/netstat.class.js"></script>
        <script src="classes/conninfo.class.js"></script>
        <script src="classes/locationGlobe.class.js"></script>
        <script src="classes/ramwatcher.class.js"></script>
        <script src="classes/toplist.class.js"></script>
        <script src="classes/fuzzclass FuzzyFinder{constructor(){if(document.getElementById("fuzzyFinder")||document.getElementById("settingsEditor"))return!1;window.keyboard.detach(),this.disp=new Modal({type:"custom",title:"Fuzzy cwd file search",html:'<input type="search" id="fuzzyFinder" placeholder="Search file in cwd..." />\n                <ul id="fuzzyFinder-results">\n                    <li class="fuzzyFinderMatchSelected"></li>\n                    <li></li>\n                    <li></li>\n                    <li></li>\n                    <li></li>\n                </ul>',buttons:[{label:"Select",action:"window.activeFuzzyFinder.submit()"}]},(()=>{delete window.activeFuzzyFinder,window.keyboard.attach(),window.term[window.currentTerm].term.focus()})),this.input=document.getElementById("fuzzyFinder"),this.results=document.getElementById("fuzzyFinder-results"),this.input.addEventListener("input",(e=>{e.inputType&&e.inputType.startsWith("delete")||e.detail&&e.detail.startsWith("delete")?(this.input.value="",this.search("")):this.search(this.input.value)})),this.input.addEventListener("change",(e=>{"enter"===e.detail&&this.submit()})),this.input.addEventListener("keydown",(e=>{let t,i,n,r;switch(e.key){case"Enter":this.submit(),e.preventDefault();break;case"ArrowDown":t=document.querySelector("li.fuzzyFinderMatchSelected"),i=Number(t.id.substr(17)),n=document.getElementById(`fuzzyFinderMatch-${i+1}`)?i+1:0,r=document.getElementById(`fuzzyFinderMatch-${n}`),t.removeAttribute("class"),r.setAttribute("class","fuzzyFinderMatchSelected"),e.preventDefault();break;case"ArrowUp":t=document.querySelector("li.fuzzyFinderMatchSelected"),i=Number(t.id.substr(17)),n=document.getElementById("fuzzyFinderMatch-"+(i-1))?i-1:0,r=document.getElementById(`fuzzyFinderMatch-${n}`),t.removeAttribute("class"),r.setAttribute("class","fuzzyFinderMatchSelected"),e.preventDefault();break;default:}})),this.search(""),this.input.focus()}search(e){let t=window.fsDisp.cwd,i=0,n=t.filter((t=>!(i>=5||"showDisks"===t.type||"up"===t.type)&&(t.name.toLowerCase().includes(e.toLowerCase())?(i++,!0):void 0)));n.sort(((t,i)=>t.name.toLowerCase().startsWith(e.toLowerCase())&&!i.name.toLowerCase().startsWith(e.toLowerCase())?-1:!t.name.toLowerCase().startsWith(e.toLowerCase())&&i.name.toLowerCase().startsWith(e.toLowerCase())?1:0)),0===n.length&&(this.results.innerHTML='<li class="fuzzyFinderMatchSelected">No results</li>\n                 <li></li>\n                  <li></li>\n                  <li></li>\n                  <li></li>');let r="";if(n.forEach(((e,t)=>{r+=`<li id="fuzzyFinderMatch-${t}" class="${0===t?"fuzzyFinderMatchSelected":""}" onclick="document.querySelector('li.fuzzyFinderMatchSelected').removeAttribute('class');document.getElementById('fuzzyFinderMatch-${t}').setAttribute('class', 'fuzzyFinderMatchSelected')">${e.name}</li>`})),5!==n.length)for(let e=n.length;e<5;e++)r+="<li></li>";this.results.innerHTML=r}submit(){let e=document.querySelector("li.fuzzyFinderMatchSelected").innerText;if("No results"===e||e.length<=0)return void this.disp.close();let t=path.resolve(window.fsDisp.dirpath,e);window.term[window.currentTerm].write(`'${t}'`),this.disp.close()}}module.exports={FuzzyFinder};yFinder.class.js"></script>
        <!-- Load extra classes -->
        <script src="classes/audiofx.class.js"></script>
    </head>
    <body class="solidBackground">
        <section id="boot_screen">
        </section>

        <script src="_renderer.js"></script>
    </body>
</html>
